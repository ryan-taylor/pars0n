modules = ["rust"]
[workflows]
runButton = "Project"

[[workflows.workflow]]
name = "Project"
mode = "parallel"
author = "agent"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Build and Run JSON Parser CLI"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Test JSON Parser CLI"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Build and Test Parson"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Verify Parson"

[[workflows.workflow.tasks]]
task = "workflow.run"
args = "Final Parson Test"

[[workflows.workflow]]
name = "Build and Run JSON Parser CLI"
author = "agent"

[workflows.workflow.metadata]
agentRequireRestartOnSave = false

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cargo build --release && ./target/release/json_parser_cli --files sample.json sample2.json --query 'example.name'"

[[workflows.workflow]]
name = "Test JSON Parser CLI"
author = "agent"

[workflows.workflow.metadata]
agentRequireRestartOnSave = false

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cargo build --release && ./target/release/json_parser_cli --files sample.json sample2.json --query 'example.name' --format raw && echo '---' && ./target/release/json_parser_cli --files sample.json sample2.json --query 'example.name' --format google_cloud_ai && echo '---' && ./target/release/json_parser_cli --files sample.json sample2.json --query 'example.name' --format pretty_json"

[[workflows.workflow]]
name = "Build and Test Parson"
author = "agent"

[workflows.workflow.metadata]
agentRequireRestartOnSave = false

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cargo build --release && ./target/release/parson --files sample.json sample2.json --query 'example.name'"

[[workflows.workflow]]
name = "Verify Parson"
author = "agent"

[workflows.workflow.metadata]
agentRequireRestartOnSave = false

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "./target/release/parson --files sample.json sample2.json --query 'example.name' --format pretty_json"

[[workflows.workflow]]
name = "Final Parson Test"
author = "agent"

[workflows.workflow.metadata]
agentRequireRestartOnSave = false

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cargo build --release && ./target/release/parson --files sample.json sample2.json --query 'example.name' --format google_cloud_ai"

[deployment]
run = ["sh", "-c", "cargo build --release && ./target/release/json_parser_cli --files sample.json sample2.json --query 'example.name'"]
